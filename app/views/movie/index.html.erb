<div class="center hero-unit">

  <script type="text/javascript">
      $(function()
      {
          $('.star').raty({
              path: '/assets',
              number: 10,
              readOnly   : true,
              halfShow : true,
              score: function() {
                  return $(this).attr('data-score');
              }
          });
      });
  </script>


    <h1>TOP rated movies</h1>

  <ul class="pagination">
    <%= will_paginate @movies, renderer: BootstrapPagination::Rails %>
  </ul>

  <table class="table table-condensed table-striped">
    <thead>
    <tr>
      <th width="5%">Rank</th>
      <th width="20%">Title</th>
      <th width="28%">Rating</th>
      <th width="10%">Year</th>
      <th width="37%">Description</th>
    </tr>
    </thead>

    <tbody>
      <% @movies.each_with_index do |movie, index| %>
          <tr>
            <td><%= index + 1%></td>
            <td><%= movie.title%></td>
            <td><div class="star" data-score="<%= movie.rating %>"></div></td>
            <td>(<%= movie.year%>)</td>
            <td><%= movie.description %></td>
          </tr>
      <% end %>
  </table>

  <ul class="pagination">
    <%= will_paginate @movies, renderer: BootstrapPagination::Rails %>
  </ul>
  
</div>

